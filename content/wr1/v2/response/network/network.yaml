---
  $schema: "http://json-schema.org/draft-04/schema#"
  type: "object"
  properties:
    status:
      type: "string"
      default: "success"
      enum:
        - "success"
        - "error"
      uniqueItems: true
      description: "standard Pakedge status code"
    msg:
      type: "string"
      default: ""
      description: "standard Pakedge msg"
    response:
      type: "object"
      properties:
        lan:
          type: "object"
          properties:
            ip_address:
              type: "string"
              format: "ipv4"
            proto:
              type: "string"
              description: "protocol"
        wans:
          type: "array"
          items:
            $ref: 'wan.yaml#/properties/response'
        connections:
          type: "array"
          items:
            type: "object"
            properties:
              ip_address:
                type: "string"
                format: "ipv4"
              proto:
                type: "string"
                description: "protocol"
              hostname:
                type: "string"
                description: "hostname of connected client"
              rx_data:
                type: "integer"
                description: "rx data"
              macaddr:
                type: "string"
                pattern: "^([A-Fa-f0-9]{2}:){5}[A-Fa-f0-9]{2}$"
                description: "mac address of wireless network"
              lease_time:
                type: "integer"
                description: "lease time in seconds"
              tx_data:
                type: "integer"
                description: "tx data"
              interface:
                type: "string"
                description: "interface name"
      required:
        - "wans"
        - "lan"
        - "connections"
  additionalProperties: false
  required:
    - "status"
    - "msg"
    - "response"
  example:
    {
    "status": "success",
    "msg": "",
    "response": {
      "wans": [
        {
          "rx_data": 62110985,
          "index": 1,
          "up": true,
          "tx_data": 19294634,
          "uptime": 323749,
          "name": "wan",
          "status": true,
          "macaddr": "90:A7:C1:97:BA:4A",
          "ipv4": {
            "ip_address": "10.47.5.206",
            "netmask": "255.255.255.0",
            "proto": "dhcp",
            "dns": [
              "8.8.8.8"
            ],
            "mtu": 1500,
            "gateway": "10.47.5.1"
          }
        },
        {
          "rx_data": 62110985,
          "index": 2,
          "up": false,
          "tx_data": 19294634,
          "uptime": 0,
          "name": "wan2",
          "status": true,
          "macaddr": "90:A7:C1:97:BA:4b",
          "ipv4": {
            "proto": "dhcp",
            "mtu": 1500
          }
        }
      ],
      "lan": {
          "ip_address": "192.168.1.150",
          "proto": "dhcp"
      },
      "connections": [
        {
          "ip_address": "192.168.1.150",
          "proto": "dhcp",
          "hostname": "d4389c58f670",
          "rx_data": 70387,
          "macaddr": "d4:38:9c:58:f6:70",
          "lease_time": 38171,
          "tx_data": 28625,
          "interface": "lan"
        }
      ]
    }
  }
